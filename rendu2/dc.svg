<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2152px" preserveAspectRatio="none" style="width:1837px;height:2152px;background:#FFFFFF;" version="1.1" viewBox="0 0 1837 2152" width="1837px" zoomAndPan="magnify"><defs/><g><!--MD5=[5d4cd377749310b66bf14896f5cd8d9b]
cluster model--><polygon fill="#FFFFFF" points="50.1084,180.5,99.1084,180.5,106.1084,204.1094,995.1084,204.1094,995.1084,1927,50.1084,1927,50.1084,180.5" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="50.1084" x2="106.1084" y1="204.1094" y2="204.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="43" x="54.1084" y="197.0332">model</text><!--MD5=[10ea673caf457862023e152271927b45]
cluster controller--><polygon fill="#FFFFFF" points="1019.1084,126,1094.1084,126,1101.1084,149.6094,1710.1084,149.6094,1710.1084,391,1019.1084,391,1019.1084,126" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1019.1084" x2="1101.1084" y1="149.6094" y2="149.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="69" x="1023.1084" y="142.5332">controller</text><!--MD5=[86cbce8df1eb9d604fbbb2fa357940f8]
cluster view--><polygon fill="#FFFFFF" points="1019.1084,454,1058.1084,454,1065.1084,477.6094,1662.1084,477.6094,1662.1084,761,1019.1084,761,1019.1084,454" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1019.1084" x2="1065.1084" y1="477.6094" y2="477.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="33" x="1023.1084" y="470.5332">view</text><!--MD5=[e4fd15ec1eb2c16989c5dac5bcfca7f9]
cluster utilities--><polygon fill="#FFFFFF" points="231.1084,1977,289.1084,1977,296.1084,2000.6094,521.1084,2000.6094,521.1084,2145,231.1084,2145,231.1084,1977" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="231.1084" x2="296.1084" y1="2000.6094" y2="2000.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="235.1084" y="1993.5332">utilities</text><!--MD5=[9ed323de6e5b1e2bdfe64b349a4e1197]
class Biome--><rect codeLine="10" fill="#FEFECE" height="145.0391" id="Biome" style="stroke:#A80036;stroke-width:1.5;" width="52" x="450.1084" y="1766"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="453.1084" y="1783.457">«enum»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="36" x="458.1084" y="1798.5508">Biome</text><line style="stroke:#A80036;stroke-width:1.5;" x1="451.1084" x2="501.1084" y1="1806.1875" y2="1806.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="456.1084" y="1821.6064">CASTLE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="456.1084" y="1835.4424">WHEAT</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="456.1084" y="1849.2783">FOREST</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="456.1084" y="1863.1143">WATER</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="37" x="456.1084" y="1876.9502">GRASS</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="39" x="456.1084" y="1890.7861">SWAMP</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="456.1084" y="1904.6221">MINE</text><!--MD5=[0feac561e620dadf4a1942f31eaa0f58]
class Castle--><rect codeLine="22" fill="#FEFECE" height="54.9297" id="Castle" style="stroke:#A80036;stroke-width:1.5;" width="56" x="309.1084" y="1811"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="36" x="319.1084" y="1828.457">Castle</text><line style="stroke:#A80036;stroke-width:1.5;" x1="310.1084" x2="364.1084" y1="1836.0938" y2="1836.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="310.1084" x2="364.1084" y1="1844.0938" y2="1844.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="315.1084" y="1859.5127">+Castle()</text><!--MD5=[18e4d9ca2a6cdced7b66e5fef94ef6f6]
class Tile--><rect codeLine="129" fill="#FEFECE" height="124.1094" id="Tile" style="stroke:#A80036;stroke-width:1.5;" width="182" x="467.1084" y="1564"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="20" x="548.1084" y="1581.457">Tile</text><line style="stroke:#A80036;stroke-width:1.5;" x1="468.1084" x2="648.1084" y1="1589.0938" y2="1589.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="473.1084" y="1604.5127">-crowns:Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="468.1084" x2="648.1084" y1="1610.9297" y2="1610.9297"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="473.1084" y="1626.3486">+Tile(biome:Biome, crowns:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="473.1084" y="1640.1846">+toString():String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="473.1084" y="1654.0205">+getBiome():Biome</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="473.1084" y="1667.8564">+getCrowns():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="473.1084" y="1681.6924">+getCrownsAsString():String</text><!--MD5=[93b0c5861eb80280293937e64ab530f7]
class Domino--><rect codeLine="27" fill="#FEFECE" height="193.2891" id="Domino" style="stroke:#A80036;stroke-width:1.5;" width="173" x="234.6084" y="1242"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43" x="299.6084" y="1259.457">Domino</text><line style="stroke:#A80036;stroke-width:1.5;" x1="235.6084" x2="406.6084" y1="1267.0938" y2="1267.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="240.6084" y="1282.5127">-id:Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="240.6084" y="1296.3486">-horizontal:boolean</text><line style="stroke:#A80036;stroke-width:1.5;" x1="235.6084" x2="406.6084" y1="1302.7656" y2="1302.7656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="240.6084" y="1318.1846">+Domino(id:Integer, t1:Tile, t2:Tile)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="240.6084" y="1332.0205">-switchTiles()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="73" x="240.6084" y="1345.8564">+getId():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="240.6084" y="1359.6924">+getTiles():Tile[*]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="240.6084" y="1373.5283">+toString():String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="240.6084" y="1387.3643">+flipRight()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="240.6084" y="1401.2002">+flip180()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="240.6084" y="1415.0361">+flipLeft()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="240.6084" y="1428.8721">+isHorizontal():boolean</text><!--MD5=[b6dcce5e5ef3c84b0b048d11301373dd]
class Game--><rect codeLine="43" fill="#FEFECE" height="345.4844" id="Game" style="stroke:#A80036;stroke-width:1.5;" width="297" x="517.6084" y="455"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="33" x="649.6084" y="472.457">Game</text><line style="stroke:#A80036;stroke-width:1.5;" x1="518.6084" x2="813.6084" y1="480.0938" y2="480.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="136" x="523.6084" y="495.5127">-gameConstraints:boolean[*]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="523.6084" y="509.3486">-clickedTileIndex:Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="523.6084" y="523.1846">-currentRound:Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="523.6084" y="537.0205">-numberOfRounds:Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="523.6084" y="550.8564">-playedTurnsInRound:Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="518.6084" x2="813.6084" y1="557.2734" y2="557.2734"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="523.6084" y="572.6924">-nextRound()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="523.6084" y="586.5283">-calculateFinalScores()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="523.6084" y="600.3643">+start()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="523.6084" y="614.2002">+getCurrentRound():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="523.6084" y="628.0361">+getNumberOfRounds():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="523.6084" y="641.8721">+getCurrentPlayer():Player</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="523.6084" y="655.708">+playedTurn()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="523.6084" y="669.5439">+createPlayer(name:String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="523.6084" y="683.3799">+clearPlayers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="523.6084" y="697.2158">+getPlayers():Players[*]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="90" x="523.6084" y="711.0518">+getWallet():Wallet</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="216" x="523.6084" y="724.8877">+setClickedTileIndex(clickedTileIndex:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="523.6084" y="738.7236">+getClickedTileIndex():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="523.6084" y="752.5596">+getSelectedDomino():Domino</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="220" x="523.6084" y="766.3955">+setSelectedDomino(selectedDomino:Domino)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="285" x="523.6084" y="780.2314">+setConstraints(harmony:boolean, middleKingdom:boolean)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="523.6084" y="794.0674">+getGameConstraints():GameConstraint[*]</text><!--MD5=[c0bd9f44073f1a51428d87d6a9cf071b]
class Observable--><rect codeLine="109" fill="#FEFECE" height="83.8594" id="Observable" style="stroke:#A80036;stroke-width:1.5;" width="185" x="564.6084" y="236.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="628.1084" y="253.957">«abstract»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="66" x="624.1084" y="269.0508">Observable</text><line style="stroke:#A80036;stroke-width:1.5;" x1="565.6084" x2="748.6084" y1="276.6875" y2="276.6875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="565.6084" x2="748.6084" y1="284.6875" y2="284.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="570.6084" y="300.1064">+notifyObservers()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="173" x="570.6084" y="313.9424">+addObserver(observer:IObserver)</text><!--MD5=[864a1343197b754259c129decc6a4405]
class GameConstraint--><rect codeLine="70" fill="#FEFECE" height="82.6016" id="GameConstraint" style="stroke:#A80036;stroke-width:1.5;" width="132" x="560.1084" y="1039.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="94" x="579.1084" y="1056.957">GameConstraint</text><line style="stroke:#A80036;stroke-width:1.5;" x1="561.1084" x2="691.1084" y1="1064.5938" y2="1064.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="566.1084" y="1080.0127">-bonus:Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="561.1084" x2="691.1084" y1="1086.4297" y2="1086.4297"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="120" x="566.1084" y="1101.8486">+setNewScore(p:Player)</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="108" x="566.1084" y="1115.6846">+respects(grid:Tile[*])</text><!--MD5=[b32a31aac2f91a2eb0e0216a0ceb590d]
class Harmony--><rect codeLine="77" fill="#FEFECE" height="68.7656" id="Harmony" style="stroke:#A80036;stroke-width:1.5;" width="157" x="394.6084" y="1465"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="51" x="447.6084" y="1482.457">Harmony</text><line style="stroke:#A80036;stroke-width:1.5;" x1="395.6084" x2="550.6084" y1="1490.0938" y2="1490.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="395.6084" x2="550.6084" y1="1498.0938" y2="1498.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="400.6084" y="1513.5127">+Harmony()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="400.6084" y="1527.3486">+respects(grid:Tile[*]):boolean</text><!--MD5=[1dcf94be89f1d1c6c4f8f797da90f5fa]
class IObserver--><rect codeLine="83" fill="#FEFECE" height="70.0234" id="IObserver" style="stroke:#A80036;stroke-width:1.5;" width="124" x="855.1084" y="243.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="61" x="886.6084" y="260.957">«interface»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="57" x="888.6084" y="276.0508">IObserver</text><line style="stroke:#A80036;stroke-width:1.5;" x1="856.1084" x2="978.1084" y1="283.6875" y2="283.6875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="856.1084" x2="978.1084" y1="291.6875" y2="291.6875"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="861.1084" y="307.1064">+update(o:Observable)</text><!--MD5=[533af354d02e6d43948fcd0c902abd7a]
class Kingdom--><rect codeLine="88" fill="#FEFECE" height="193.2891" id="Kingdom" style="stroke:#A80036;stroke-width:1.5;" width="299" x="679.6084" y="1242"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="50" x="804.1084" y="1259.457">Kingdom</text><line style="stroke:#A80036;stroke-width:1.5;" x1="680.6084" x2="977.6084" y1="1267.0938" y2="1267.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="680.6084" x2="977.6084" y1="1275.0938" y2="1275.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="186" x="685.6084" y="1290.5127">+Kingdom(height:Integer,width:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="242" x="685.6084" y="1304.3486">-fillTerrainOfTile(terrain:Tile[*], untreated:Integer[*])</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="223" x="685.6084" y="1318.1846">-getFirstUntreatedTile(terrains:Tile[*]):Integer[*]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="232" x="685.6084" y="1332.0205">-addNeighbor(neighbors:Integer[*], terrain:Tile[*],</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="194" x="685.6084" y="1345.8564">l:Integer, c:Integer, l2:Integer, c2:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="685.6084" y="1359.6924">+getGrid():Tile[*]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="287" x="685.6084" y="1373.5283">+tryDominoPlacement(lineIndex:Integer,columnIndex:Integer,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="190" x="685.6084" y="1387.3643">domino:Domino,clickedTileIndex:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="260" x="685.6084" y="1401.2002">+hasValidNeighbor(t1:Tile, l:Integer, c:Integer):boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="685.6084" y="1415.0361">+calculateScore():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="176" x="685.6084" y="1428.8721">+slideGridElements(direction:Integer)</text><!--MD5=[cc57a23d9bb19ac7ab40a678f5c88b62]
class MiddleKingdom--><rect codeLine="103" fill="#FEFECE" height="68.7656" id="MiddleKingdom" style="stroke:#A80036;stroke-width:1.5;" width="157" x="564.6084" y="1465"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="87" x="599.6084" y="1482.457">MiddleKingdom</text><line style="stroke:#A80036;stroke-width:1.5;" x1="565.6084" x2="720.6084" y1="1490.0938" y2="1490.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="565.6084" x2="720.6084" y1="1498.0938" y2="1498.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="570.6084" y="1513.5127">+MiddleKingdom()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="570.6084" y="1527.3486">+respects(grid:Tile[*]):boolean</text><!--MD5=[2cb47ba637a0d19583e6199456f6ad0b]
class Player--><rect codeLine="115" fill="#FEFECE" height="165.6172" id="Player" style="stroke:#A80036;stroke-width:1.5;" width="165" x="776.6084" y="998"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="36" x="841.1084" y="1015.457">Player</text><line style="stroke:#A80036;stroke-width:1.5;" x1="777.6084" x2="940.6084" y1="1023.0938" y2="1023.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="782.6084" y="1038.5127">-name:String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="782.6084" y="1052.3486">-score:Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="777.6084" x2="940.6084" y1="1058.7656" y2="1058.7656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="782.6084" y="1074.1846">+Player(name:String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="782.6084" y="1088.0205">+getName():String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="153" x="782.6084" y="1101.8564">+setKingdom(kingdom:Kingdom)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="114" x="782.6084" y="1115.6924">+getKingdom():Kingdom</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="82" x="782.6084" y="1129.5283">+toString():String</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="782.6084" y="1143.3643">+getScore():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="782.6084" y="1157.2002">+setScore(score:Integer)</text><!--MD5=[9f070bf9f108c27faa2eb76515c78fb3]
class Wallet--><rect codeLine="140" fill="#FEFECE" height="137.9453" id="Wallet" style="stroke:#A80036;stroke-width:1.5;" width="245" x="249.6084" y="830"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="36" x="354.1084" y="847.457">Wallet</text><line style="stroke:#A80036;stroke-width:1.5;" x1="250.6084" x2="493.6084" y1="855.0938" y2="855.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="255.6084" y="870.5127">-size:Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="250.6084" x2="493.6084" y1="876.9297" y2="876.9297"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="255.6084" y="892.3486">+Wallet(size:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="86" x="255.6084" y="906.1846">+getSize():Integer</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="118" x="255.6084" y="920.0205">+getDominos():Domino[*]</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="255.6084" y="933.8564">+declareAsUsed(domino:Domino)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="233" x="255.6084" y="947.6924">+hasBeenUsedAlready(domino:Domino):boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="255.6084" y="961.5283">+clearUsedDomino()</text><!--MD5=[82d9c97a467af7c0b2c072e754b85475]
class GameController--><rect codeLine="155" fill="#FEFECE" height="193.2891" id="GameController" style="stroke:#A80036;stroke-width:1.5;" width="304" x="1390.1084" y="182"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="89" x="1497.6084" y="199.457">GameController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1391.1084" x2="1693.1084" y1="207.0938" y2="207.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1391.1084" x2="1693.1084" y1="215.0938" y2="215.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="1396.1084" y="230.5127">+GameController(game:Game)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="1396.1084" y="244.3486">+flipLeft()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="52" x="1396.1084" y="258.1846">+flipRight()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="1396.1084" y="272.0205">+flip180()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="277" x="1396.1084" y="285.8564">+tryDominoPlacement(finalI:Integer, finalJ:Integer):boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="1396.1084" y="299.6924">+makeLeaderboard()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="224" x="1396.1084" y="313.5283">+slideKingdom(kingdom:Kingdom, finalI:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="178" x="1396.1084" y="327.3643">+setSelectedDomino(domino:Domino)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="216" x="1396.1084" y="341.2002">+setClickedTileIndex(clickedTileIndex:Integer)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="55" x="1396.1084" y="355.0361">+skipTurn()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="292" x="1396.1084" y="368.8721">+addObserver(observable:Observable, observer:IObserver)</text><!--MD5=[901999f65b4868a65541e42f6ed1cbe2]
class ParametersController--><rect codeLine="170" fill="#FEFECE" height="110.2734" id="ParametersController" style="stroke:#A80036;stroke-width:1.5;" width="319" x="1035.6084" y="223.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="124" x="1133.1084" y="240.957">ParametersController</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1036.6084" x2="1353.6084" y1="248.5938" y2="248.5938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1036.6084" x2="1353.6084" y1="256.5938" y2="256.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="172" x="1041.6084" y="272.0127">+ParametersController(game:Game)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="1041.6084" y="285.8486">+startGame()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="1041.6084" y="299.6846">+addPlayer(s:String)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="307" x="1041.6084" y="313.5205">+setGameConstraint(harmony:boolean, middleKingdom:boolean)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="1041.6084" y="327.3564">+clearPlayers()</text><!--MD5=[5d3822d29342fbd355d1b65ea3562ec9]
class GameView--><rect codeLine="182" fill="#FEFECE" height="234.7969" id="GameView" style="stroke:#A80036;stroke-width:1.5;" width="265" x="1035.6084" y="510"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="61" x="1137.6084" y="527.457">GameView</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1036.6084" x2="1299.6084" y1="535.0938" y2="535.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="1041.6084" y="550.5127">-started:boolean</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1036.6084" x2="1299.6084" y1="556.9297" y2="556.9297"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="253" x="1041.6084" y="572.3486">+GameView(game:Game, controller:GameController)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="182" x="1041.6084" y="586.1846">-disableButtonsFor(kingdom:Kingdom)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="180" x="1041.6084" y="600.0205">-enableButtonsFor(kingdom:Kingdom)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="1041.6084" y="613.8564">-playedTurn()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="1041.6084" y="627.6924">-writeInstructionTitle()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="1041.6084" y="641.5283">-getColorOfTile(tile:Tile):Color</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="1041.6084" y="655.3643">-paintSelectedDomino()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="1041.6084" y="669.2002">-end()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="1041.6084" y="683.0361">-update(kingdom:Kingdom)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="1041.6084" y="696.8721">-update(wallet:Wallet)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="45" x="1041.6084" y="710.708">-update()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="112" x="1041.6084" y="724.5439">+update(o:Observable)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="1041.6084" y="738.3799">+setUp()</text><!--MD5=[bc59db696e4218c93c80b07c311898d1]
class ParametersGUI--><rect codeLine="201" fill="#FEFECE" height="96.4375" id="ParametersGUI" style="stroke:#A80036;stroke-width:1.5;" width="310" x="1336.1084" y="579.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="87" x="1447.6084" y="596.957">ParametersGUI</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1337.1084" x2="1645.1084" y1="604.5938" y2="604.5938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="1342.1084" y="620.0127">-smallResolution:boolean</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="1342.1084" y="633.8486">-nbPlayers:Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1337.1084" x2="1645.1084" y1="640.2656" y2="640.2656"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="298" x="1342.1084" y="655.6846">+ParametersGUI(game:Game, controller:ParametersController)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="1342.1084" y="669.5205">-changeFont()</text><!--MD5=[60b59e3d7d8b95aff167b5157d975660]
class CSVReader--><rect codeLine="213" fill="#FEFECE" height="96.4375" id="CSVReader" style="stroke:#A80036;stroke-width:1.5;" width="158" x="247.1084" y="2033"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="65" x="293.6084" y="2050.457">CSVReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="248.1084" x2="404.1084" y1="2058.0938" y2="2058.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="114" x="253.1084" y="2073.5127">-INSTANCE:CSVReader</text><line style="stroke:#A80036;stroke-width:1.5;" x1="248.1084" x2="404.1084" y1="2079.9297" y2="2079.9297"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="253.1084" y="2095.3486">-CSVReader()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="130" x="253.1084" y="2109.1846">+getInstance():CSVReader</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="146" x="253.1084" y="2123.0205">+generateDominos():Domino[*]</text><!--MD5=[335f4d9be48430461c68bf6d6fdba145]
class App--><rect codeLine="222" fill="#FEFECE" height="54.9297" id="App" style="stroke:#A80036;stroke-width:1.5;" width="111" x="1139.6084" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="22" x="1184.1084" y="24.457">App</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1140.6084" x2="1249.6084" y1="32.0938" y2="32.0938"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1140.6084" x2="1249.6084" y1="40.0938" y2="40.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="99" x="1145.6084" y="55.5127">+main(args:String[*])</text><!--MD5=[522d45517c8f7ff741c9915fa2768ea3]
reverse link Tile to Castle--><path d="M476.1384,1701.97 C470.3584,1707.38 464.6284,1712.76 459.1084,1718 C425.9884,1749.43 388.5684,1786.29 364.0084,1810.67 " fill="none" id="Tile-backto-Castle" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="471.5984,1696.64,491.0084,1688.15,481.1284,1706.89,471.5984,1696.64" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[705eea31f16994ecd222b4b30ae59d12]
reverse link Observable to Game--><path d="M658.6984,340.82 C659.5284,372.85 660.5884,413.8 661.6484,454.64 " fill="none" id="Observable-backto-Game" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="651.6984,340.84,658.1784,320.67,665.6884,340.48,651.6984,340.84" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d34933f7c934ff4df7c5e91f3c97aa47]
reverse link GameConstraint to Harmony--><path d="M543.0584,1127.92 C519.4684,1145.35 496.5484,1167.51 483.1084,1194 C437.9884,1282.91 453.8984,1405.98 465.4184,1464.7 " fill="none" id="GameConstraint-backto-Harmony" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="539.3784,1121.95,559.8084,1116.34,547.3384,1133.47,539.3784,1121.95" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[285fea96f84557772d56ac680f19e0e2]
reverse link Observable to Kingdom--><path d="M688.4784,337.95 C707.1684,367.8 733.4284,402.48 765.1084,425 C790.5384,443.08 809.9784,424 832.1084,446 C959.2184,572.32 925.3384,653.28 955.1084,830 C979.7684,976.39 1006.0184,1023.15 959.1084,1164 C949.9484,1191.5 934.5384,1218.15 917.4684,1241.98 " fill="none" id="Observable-backto-Kingdom" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="682.3584,341.36,678.1084,320.6,694.3784,334.17,682.3584,341.36" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[b8a92bdeb1bc9ccca9c1da0d902f6293]
reverse link GameConstraint to MiddleKingdom--><path d="M628.5884,1142.85 C632.2284,1231.84 638.8684,1394.52 641.7284,1464.74 " fill="none" id="GameConstraint-backto-MiddleKingdom" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="621.5884,1142.96,627.7684,1122.69,635.5784,1142.39,621.5884,1142.96" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e7077378b03a4ff8c78659d83576fefb]
reverse link Observable to Wallet--><path d="M599.6084,334.65 C560.7284,373 514.0184,421.49 500.1084,446 C429.2884,570.85 395.3384,737.67 381.0484,829.74 " fill="none" id="Observable-backto-Wallet" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="594.8584,329.51,614.0484,320.52,604.6584,339.51,594.8584,329.51" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5b17c689728071f0842bffb1523d18fa]
reverse link IObserver to GameView--><path d="M946.7584,330.54 C964.3384,355.78 989.0784,383.99 1019.1084,399 C1031.7584,405.32 1135.9284,397.19 1146.1084,407 C1173.4084,433.31 1182.8884,472.1 1184.2384,509.78 " fill="none" id="IObserver-backto-GameView" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="940.8484,334.31,935.7484,313.74,952.5584,326.63,940.8484,334.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[3b6acec969a74acc1c8f61eb8d108ea5]
link App to Game--><path codeLine="228" d="M1139.4284,37.7 C978.1284,44.63 519.2084,68.56 475.1084,118 C391.9784,211.2 432.3784,281.65 475.1084,399 C484.5784,425 498.4684,450.1 514.5084,473.53 " fill="none" id="App-to-Game" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="517.5284,477.88,515.6873,468.2048,514.6794,473.7711,509.113,472.7632,517.5284,477.88" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="476.0073,281.536,485.1075,278.7724,481.7451,273.9512,476.0073,281.536" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="489.1084" y="283.9951">«creates»</text><!--MD5=[9f4932de4b2b0bbba96b23124ba8888c]
link App to ParametersController--><path codeLine="229" d="M1195.1084,62.32 C1195.1084,99.68 1195.1084,168.38 1195.1084,218.13 " fill="none" id="App-to-ParametersController" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1195.1084,223.19,1199.1084,214.19,1195.1084,218.19,1191.1084,214.19,1195.1084,223.19" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1200.1084,106.1758,1203.0473,97.1307,1197.1695,97.1307,1200.1084,106.1758" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1209.1084" y="106.4951">«creates»</text><!--MD5=[d57ce26866befe9e691964458a3e16d5]
link App to ParametersGUI--><path codeLine="230" d="M1250.7284,35.74 C1371.4784,37.56 1651.5084,49.27 1710.1084,118 C1791.1384,213.04 1756.7984,283.17 1710.1084,399 C1680.5384,472.34 1614.7684,535.26 1562.9784,576.22 " fill="none" id="App-to-ParametersGUI" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1558.9584,579.37,1568.5069,576.9564,1562.8905,576.2815,1563.5654,570.6651,1558.9584,579.37" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1765.6096,283.0052,1763.6296,273.703,1758.5401,276.6434,1765.6096,283.0052" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1772.1084" y="283.9951">«creates»</text><!--MD5=[cb4241b74a4fceee0c94e29903563361]
link ParametersGUI to Game--><path codeLine="234" d="M1461.1584,579.26 C1431.0284,535.63 1380.1984,474.04 1318.1084,446 C1234.4584,408.23 991.9384,416.26 905.1084,446 C875.2784,456.22 846.1984,471.74 819.1784,489.5 " fill="none" id="ParametersGUI-to-Game" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="814.8584,492.37,824.5656,490.7059,819.0186,489.5965,820.128,484.0495,814.8584,492.37" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1191.1566,415.4834,1199.7076,419.6465,1200.5215,413.8253,1191.1566,415.4834" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1205.1084" y="421.4951">«use»</text><!--MD5=[f590f5db39d20fea9699c6b9b8691676]
reverse link GameController to ParametersGUI--><path codeLine="235" d="M1527.2884,380.33 C1517.6384,445.96 1505.5084,528.52 1498.0284,579.39 " fill="none" id="GameController-backto-ParametersGUI" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1528.0384,375.24,1522.7687,383.5605,1527.3093,380.1866,1530.6832,384.7271,1528.0384,375.24" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1527.8355,411.2289,1523.6124,419.7505,1529.4278,420.6053,1527.8355,411.2289" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1536.1084" y="421.4951">«use»</text><!--MD5=[ca04c0eda4482e2f74e8c9b82fcb79bf]
link GameView to Game--><path codeLine="239" d="M1035.2884,627.5 C969.1584,627.5 888.8484,627.5 820.0384,627.5 " fill="none" id="GameView-to-Game" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="814.6884,627.5,823.6884,631.5,819.6884,627.5,823.6884,623.5,814.6884,627.5" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="900.1084,615.6758,909.1535,618.6147,909.1535,612.7369,900.1084,615.6758" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="914.1084" y="620.9951">«use»</text><!--MD5=[6e60b75c2c157a8ab64d05e7f926be44]
reverse link GameController to GameView--><path codeLine="240" d="M1399.5384,378.17 C1371.8984,399.42 1343.8584,422.58 1319.1084,446 C1298.4784,465.52 1277.9284,487.74 1258.9184,509.76 " fill="none" id="GameController-backto-GameView" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1403.6184,375.05,1394.0415,377.3486,1399.6494,378.091,1398.907,383.6989,1403.6184,375.05" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1366.7592,412.7594,1358.1467,416.7938,1362.1629,421.0856,1366.7592,412.7594" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1372.1084" y="421.4951">«use»</text><!--MD5=[7358d16e358e8b5efea1ea46d44200e6]
link GameView to Wallet--><path codeLine="241" d="M1074.3784,745.04 C1050.8984,766.96 1024.0584,787.05 995.1084,800 C895.7884,844.44 613.7784,801.21 499.7484,829.95 " fill="none" id="GameView-to-Wallet" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="494.7684,831.28,504.4988,832.8027,499.5965,829.9801,502.419,825.0778,494.7684,831.28" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="734.1921,813.2167,743.5696,814.8018,742.7104,808.9871,734.1921,813.2167" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="748.1384" y="817.8051">«use»</text><!--MD5=[f84ef3864fb7cea9e2430564f554cd10]
link GameView to Kingdom--><path codeLine="242" d="M1152.7984,745.08 C1131.9284,869.66 1085.2784,1068.56 987.1084,1212 C980.9884,1220.94 974.0384,1229.56 966.5484,1237.79 " fill="none" id="GameView-to-Kingdom" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="962.8284,1241.81,971.8784,1237.9245,966.2257,1238.1415,966.0087,1232.4888,962.8284,1241.81" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1090.3404,1085.8528,1096.2878,1078.4312,1090.7896,1076.3528,1090.3404,1085.8528" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1101.1084" y="1086.4951">«use»</text><!--MD5=[5943661c4deefcbd7e4141f63b0d2b37]
link GameView to Observable--><path codeLine="243" d="M1079.4284,509.56 C1054.8584,484.67 1026.2784,461.3 995.1084,446 C916.0684,407.19 877.2584,463.59 798.1084,425 C752.0784,402.56 712.7984,358.59 687.4884,324.83 " fill="none" id="GameView-to-Observable" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="684.4684,320.77,686.6079,330.3837,687.4432,324.7888,693.038,325.624,684.4684,320.77" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="798.5856,414.0441,805.5144,420.5588,808.0204,415.2419,798.5856,414.0441" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="812.1084" y="421.4951">«use»</text><!--MD5=[d8dec5702e91b3a3feef3f165c628123]
link GameView to Tile--><path codeLine="244" d="M1178.1784,745.01 C1184.2084,855.12 1184.3184,1023.87 1145.1084,1164 C1108.0784,1296.37 1085.4484,1330.55 996.1084,1435 C949.3584,1489.65 932.1684,1501.31 868.1084,1534 C800.3084,1568.61 717.2684,1592.1 654.2084,1606.53 " fill="none" id="GameView-to-Tile" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="649.3184,1607.64,658.9772,1609.5655,654.1963,1606.5418,657.22,1601.7609,649.3184,1607.64" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1137.5102,1207.4477,1144.7213,1201.2469,1139.6994,1198.1925,1137.5102,1207.4477" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1149.1084" y="1208.4951">«use»</text><!--MD5=[cf2f7ff3cddef18871e1b0a64b08164c]
reverse link Domino to CSVReader--><path codeLine="248" d="M283.3684,1440.4 C281.2584,1448.64 279.4584,1456.91 278.1084,1465 C263.3984,1553.3 226.3184,1441.79 292.1084,1935 C296.5184,1968.06 305.1184,2004.62 312.5684,2032.76 " fill="none" id="Domino-backto-CSVReader" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="284.7184,1435.28,278.5641,1442.9693,283.4487,1440.1161,286.3019,1445.0007,284.7184,1435.28" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="270.8622,1722.1818,268.3722,1731.3607,274.2429,1731.0713,270.8622,1722.1818" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="280.1084" y="1732.4951">«creates»</text><!--MD5=[45fd803651635038970e5098f11c9f22]
reverse link Biome to CSVReader--><path codeLine="249" d="M447.3084,1885.68 C420.9384,1927.95 382.0884,1990.24 355.5284,2032.83 " fill="none" id="Biome-backto-CSVReader" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="449.9784,1881.39,441.8248,1886.9143,447.3348,1885.634,448.6152,1891.1441,449.9784,1881.39" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="416.7545,1947.9333,409.474,1954.0527,414.4613,1957.1633,416.7545,1947.9333" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="423.1084" y="1957.4951">«use»</text><!--MD5=[ab5d36c4edb663a9e374e875dac330a8]
reverse link Tile to CSVReader--><path codeLine="250" d="M564.9084,1693.24 C568.4284,1759.27 564.7584,1861.21 520.1084,1935 C492.8984,1979.97 446.0084,2015.59 405.1384,2040.28 " fill="none" id="Tile-backto-CSVReader" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="564.6184,1688.15,561.1399,1697.3641,564.9045,1693.1418,569.1268,1696.9064,564.6184,1688.15" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="571.1993,1834.134,564.7472,1841.1211,570.0864,1843.5792,571.1993,1834.134" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="578.1084" y="1843.9951">«use»</text><!--MD5=[79d5ec6ece63f3a09b854ade68bec2e2]
link CSVReader to CSVReader--><path codeLine="251" d="M405.2284,2057.31 C425.1684,2058.92 440.1084,2066.81 440.1084,2081 C440.1084,2093.97 427.6284,2101.68 410.2484,2104.14 " fill="none" id="CSVReader-to-CSVReader" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="405.2284,2104.69,414.6094,2107.6894,410.1988,2104.1472,413.741,2099.7367,405.2284,2104.69" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="445.5108,2086.1596,447.7122,2076.9073,441.8534,2077.3803,445.5108,2086.1596" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="459.1084" y="2086.4951">«creates»</text><!--MD5=[e719ec126f4be52a550f947bcaeeaeca]
link Domino to Wallet--><path codeLine="255" d="M377.8884,1229.77 C386.6784,1208.51 394.3984,1185.97 399.1084,1164 C414.5784,1091.86 408.9984,1071.11 399.1084,998 C398.3584,992.49 395.9394,979.7713 395.9394,979.7713 " fill="none" id="Domino-Wallet" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="393.3684,968.05,390.7468,974.7677,395.9394,979.7713,398.561,973.0537,393.3684,968.05" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="372.7584,1241.79,379.9783,1235.0913,374.7267,1237.1937,372.6242,1231.9421,372.7584,1241.79" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="374.7267" x2="377.8684" y1="1237.1937" y2="1229.83"/><polygon fill="#000000" points="412.7483,1086.1628,416.331,1077.3529,410.4684,1076.9295,412.7483,1086.1628" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="422.1084" y="1086.4951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="399.2394" y="1214.6716">3..4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="379.2394" y="1231.0232">-dominos[*]</text><!--MD5=[e3d147ad9ebebbf04b6db770fe5cb7b6]
link Wallet to Domino--><path codeLine="256" d="M332.4664,979.3571 C332.4664,979.3571 328.4184,992.25 327.1084,998 C309.8584,1073.71 308.7684,1161.39 311.7784,1228.67 " fill="none" id="Wallet-Domino" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="312.4284,1241.85,315.978,1232.663,312.1809,1236.8561,307.9878,1233.059,312.4284,1241.85" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="312.1809" x2="311.7884" y1="1236.8561" y2="1228.865"/><polygon fill="#A80036" points="336.5684,968.08,330.7584,972.3512,332.4664,979.3571,338.2764,975.0859,336.5684,968.08" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="331.6949,1086.1587,335.3718,1077.3876,329.514,1076.9015,331.6949,1086.1587" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="341.1084" y="1086.4951">contains</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="276.5412" y="1214.7362">3..4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="265.0412" y="1231.0878">-used[*]</text><!--MD5=[45afde720738a904859f4893afb72399]
link Tile to Biome--><path codeLine="260" d="M482.4516,1698.1258 C482.4516,1698.1258 474.7184,1711.44 472.1084,1718 C467.8184,1728.79 465.5884,1740.57 464.7384,1752.4 " fill="none" id="Tile-Biome" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="464.3084,1765.71,468.5836,1756.8374,464.4623,1760.7124,460.5874,1756.5911,464.3084,1765.71" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="464.4623" x2="464.7234" y1="1760.7124" y2="1752.72"/><polygon fill="#A80036" points="489.2684,1688.25,482.5681,1690.9156,482.4516,1698.1258,489.1519,1695.4602,489.2684,1688.25" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="475.5571,1731.929,481.1573,1724.2421,475.5695,1722.4185,475.5571,1731.929" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="486.1084" y="1732.4951">represents</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="422.2273" y="1755.2677">-biome</text><!--MD5=[d2428e26b4bbe79e700ebc016d7506d0]
link Player to Kingdom--><path codeLine="264" d="M848.0509,1176.1683 C848.0509,1176.1683 843.8984,1211.52 841.8884,1228.63 " fill="none" id="Player-Kingdom" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="840.3684,1241.61,845.3904,1233.1377,840.9513,1236.6441,837.4449,1232.205,840.3684,1241.61" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="840.9513" x2="841.8834" y1="1236.6441" y2="1228.7"/><polygon fill="#FFFFFF" points="849.4484,1164.25,844.7769,1169.7433,848.0509,1176.1683,852.7224,1170.675,849.4484,1164.25" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="849.5251,1208.1416,853.4992,1199.5012,847.6615,1198.8155,849.5251,1208.1416" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="859.1084" y="1208.4951">has</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="811.3961" y="1214.83">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="790.3961" y="1231.1815">kingdom</text><!--MD5=[d728b68f9e19e47f802e74f34c9a04a1]
link Observable to IObserver--><path codeLine="268" d="M761.8684,278.5 C761.8684,278.5 817.1084,278.5 841.6284,278.5 " fill="none" id="Observable-IObserver" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="854.8984,278.5,845.8984,274.5,849.8984,278.5,845.8984,282.5,854.8984,278.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="849.8984" x2="841.8984" y1="278.5" y2="278.5"/><polygon fill="#FFFFFF" points="749.8684,278.5,755.8684,282.5,761.8684,278.5,755.8684,274.5,749.8684,278.5" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="776.8584,266.6758,767.8133,263.7369,767.8133,269.6147,776.8584,266.6758" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="780.8584" y="271.9951">can notify</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="775.0723" y="292.6457">-observers[*]</text><!--MD5=[45e63164ef93d55dd0e56759b0461bbd]
link MiddleKingdom to Tile--><path codeLine="272" d="M620.1084,1534.19 C614.6984,1542.11 608.7484,1550.82 602.7484,1559.62 " fill="none" id="MiddleKingdom-to-Tile" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="599.7984,1563.94,608.1644,1558.743,602.608,1559.804,601.5469,1554.2476,599.7984,1563.94" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="562.1893,1544.2953,569.7163,1538.4819,564.8618,1535.1679,562.1893,1544.2953" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="574.0084" y="1545.4851">«use»</text><!--MD5=[4b126f9d988f8f844fc07b0aace123e3]
link Kingdom to Tile--><path codeLine="276" d="M794.9393,1446.4031 C794.9393,1446.4031 762.6384,1509.69 739.1084,1534 C717.3784,1556.44 688.9484,1574.27 661.0684,1587.97 " fill="none" id="Kingdom-Tile" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="649.1784,1593.6,659.0245,1593.3658,653.6979,1591.4612,655.6024,1586.1346,649.1784,1593.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="653.6979" x2="660.9334" y1="1591.4612" y2="1588.04"/><polygon fill="#A80036" points="799.6584,1435.37,793.6211,1439.3135,794.9393,1446.4031,800.9766,1442.4596,799.6584,1435.37" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="786.673,1503.3087,795.0231,1498.756,790.7523,1494.7174,786.673,1503.3087" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="799.1084" y="1504.9951">is made of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="14" x="669.2617" y="1571.5625">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="657.2617" y="1587.9141">-grid[*]</text><!--MD5=[916db629d2eb572cc16feeac90cc372a]
link Kingdom to Domino--><path codeLine="277" d="M684.2484,1241.91 C624.4484,1213.61 554.2484,1195.2 490.1084,1216 C462.5784,1224.93 435.7684,1240.21 411.9184,1257.02 " fill="none" id="Kingdom-to-Domino" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="407.8084,1259.95,417.4596,1257.9866,411.8809,1257.0492,412.8183,1251.4706,407.8084,1259.95" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="490.1161,1203.4528,499.3101,1205.8861,498.9844,1200.0173,490.1161,1203.4528" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="504.1084" y="1208.4951">«use»</text><!--MD5=[c1953da8db102448972c787ab1f75049]
link Harmony to Tile--><path codeLine="281" d="M496.1084,1534.19 C501.5184,1542.11 507.4684,1550.82 513.4684,1559.62 " fill="none" id="Harmony-to-Tile" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="516.4184,1563.94,514.6699,1554.2476,513.6088,1559.804,508.0523,1558.743,516.4184,1563.94" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="464.0274,1562.2953,461.355,1553.1679,456.5005,1556.4819,464.0274,1562.2953" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="470.2084" y="1563.4851">«use»</text><!--MD5=[7f84189582b884b131dc60cb2d5fee18]
link GameConstraint to Player--><path codeLine="285" d="M692.2584,1081 C716.8484,1081 745.1484,1081 771.3784,1081 " fill="none" id="GameConstraint-to-Player" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="776.5984,1081,767.5984,1077,771.5984,1081,767.5984,1085,776.5984,1081" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="719.3584,1069.1758,710.3133,1066.2369,710.3133,1072.1147,719.3584,1069.1758" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="723.3584" y="1074.4951">«use»</text><!--MD5=[16352e80562e54ace4a636182e2d58fc]
link GameConstraint to Tile--><path codeLine="286" d="M609.5784,1122.66 C597.4284,1154.55 581.7684,1200.35 574.1084,1242 C553.9884,1351.46 553.3284,1481.36 555.2884,1558.27 " fill="none" id="GameConstraint-to-Tile" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="555.4384,1563.72,559.2057,1554.6202,555.3099,1558.7217,551.2084,1554.8258,555.4384,1563.72" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="578.49,1343.6374,582.525,1335.0252,576.6923,1334.2983,578.49,1343.6374" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="588.1084" y="1343.9951">«use»</text><!--MD5=[4347d70e4d258c13236b06640c773ed6]
link Game to Domino--><path codeLine="290" d="M505.9555,658.0162 C505.9555,658.0162 291.9484,736.25 232.1084,830 C154.6384,951.37 209.7784,1120.76 261.3884,1229.79 " fill="none" id="Game-Domino" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="267.1784,1241.79,266.8716,1231.9459,265.0063,1237.2864,259.6658,1235.4212,267.1784,1241.79" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="265.0063" x2="261.5334" y1="1237.2864" y2="1230.085"/><polygon fill="#A80036" points="517.5384,654.88,510.7015,652.5871,505.9555,658.0162,512.7923,660.3091,517.5384,654.88" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="235.142,1085.7729,241.4013,1078.6124,235.9971,1076.3008,235.142,1085.7729" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="246.1084" y="1086.4951">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="233.9775" y="1231.2707">deck</text><!--MD5=[dbe7b50f8a1fb25bf8327c5d811ecc9d]
link Domino to Game--><path codeLine="295" d="M224.3184,1269.05 C192.1984,1240.62 160.2784,1204.72 143.1084,1164 C84.9684,1026.14 87.6384,943.51 185.1084,830 C266.2984,735.45 505.9175,656.9835 505.9175,656.9835 " fill="none" id="Domino-Game" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="517.5584,654.07,510.7667,651.6465,505.9175,656.9835,512.7091,659.4071,517.5584,654.07" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="234.2784,1277.63,230.0737,1268.7238,230.4914,1274.3652,224.85,1274.7829,234.2784,1277.63" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="230.4914" x2="224.4284" y1="1274.3652" y2="1269.145"/><polygon fill="#000000" points="146.0186,1085.7181,152.469,1078.7293,147.1292,1076.2726,146.0186,1085.7181" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="157.1084" y="1086.4951">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="166.9546" y="1254.693">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="129.4546" y="1271.0446">-selectedDomino</text><!--MD5=[6b6b9e8ceff4e9e58f06e15491e15318]
link Game to Player--><path codeLine="291" d="M684.1209,812.0652 C684.1209,812.0652 705.2284,940.57 721.1084,968 C732.4784,987.64 748.7084,1005.25 766.0684,1020.36 " fill="none" id="Game-Player" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="776.3984,1028.96,772.0551,1020.1206,772.5609,1025.7548,766.9267,1026.2606,776.3984,1028.96" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="772.5609" x2="766.4134" y1="1025.7548" y2="1020.64"/><polygon fill="#A80036" points="682.5384,800.17,679.3646,806.6451,684.1209,812.0652,687.2947,805.5901,682.5384,800.17" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="727.9389,903.8286,727.3623,894.3356,721.8926,896.4875,727.9389,903.8286" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="735.1084" y="904.4951">makes play</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="734.6353" y="1005.4983">2..4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="722.6353" y="1021.8499">-players</text><!--MD5=[6b6b9e8ceff4e9e58f06e15491e15318]
link Game to Player--><path codeLine="293" d="M798.1602,810.7699 C798.1602,810.7699 804.4784,823.91 807.1084,830 C819.0584,857.67 832.9884,926.47 843.4184,984.9 " fill="none" id="Game-Player-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="845.7184,997.96,848.0947,988.4021,844.8501,993.036,840.2162,989.7914,845.7184,997.96" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="844.8501" x2="843.4584" y1="993.036" y2="985.16"/><polygon fill="#A80036" points="792.6884,800.09,791.8643,807.2539,798.1602,810.7699,798.9842,803.606,792.6884,800.09" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="846.3662,904.015,846.9353,894.5215,841.2464,896.0001,846.3662,904.015" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="854.1084" y="904.4951">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="804.6657" y="970.6827">3..4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="789.1657" y="987.0343">-oldOrder</text><!--MD5=[6b6b9e8ceff4e9e58f06e15491e15318]
link Game to Player--><path codeLine="294" d="M823.5205,738.1955 C823.5205,738.1955 875.0184,796.13 890.1084,830 C911.6784,878.41 905.8784,937 893.7984,985.29 " fill="none" id="Game-Player-2" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="890.4184,997.97,896.599,990.3019,891.7047,993.1383,888.8683,988.2439,890.4184,997.97" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="891.7047" x2="893.7634" y1="993.1383" y2="985.41"/><polygon fill="#A80036" points="814.8784,729.87,816.4243,736.9134,823.5205,738.1955,821.9746,731.152,814.8784,729.87" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="910.4762,903.985,910.8286,894.481,905.175,896.089,910.4762,903.985" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="918.1084" y="904.4951">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="914.3343" y="970.6936">3..4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="895.8343" y="987.0452">-newOrder</text><!--MD5=[6b6b9e8ceff4e9e58f06e15491e15318]
link Game to Player--><path codeLine="296" d="M607.5729,812.0235 C607.5729,812.0235 605.8684,923.12 636.1084,968 C655.9384,997.43 678.0584,982.75 710.1084,998 C728.0384,1006.53 746.8384,1016.24 764.8084,1025.92 " fill="none" id="Game-Player-3" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="776.4784,1032.27,770.4825,1024.4566,772.0858,1029.8815,766.6609,1031.4848,776.4784,1032.27" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="772.0858" x2="765.0534" y1="1029.8815" y2="1026.06"/><polygon fill="#A80036" points="609.1684,800.13,604.4062,805.5449,607.5729,812.0235,612.3351,806.6086,609.1684,800.13" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="644.0698,903.2044,641.0805,894.1759,636.3446,897.6572,644.0698,903.2044" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="650.1084" y="904.4951">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="717.3937" y="1040.9483">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="687.8937" y="1057.2998">-currentPlayer</text><!--MD5=[b538bf738aa8415ac2afe12699a7e76f]
link Game to GameConstraint--><path codeLine="292" d="M538.5972,811.1698 C538.5972,811.1698 533.9084,824.03 532.1084,830 C514.3684,888.71 511.1284,910.37 532.1084,968 C540.3084,990.53 555.2584,1011.69 570.8584,1029.41 " fill="none" id="Game-GameConstraint" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="580.0684,1039.43,576.9216,1030.0974,576.6843,1035.7493,571.0324,1035.5119,580.0684,1039.43" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="576.6843" x2="571.2684" y1="1035.7493" y2="1029.86"/><polygon fill="#FFFFFF" points="543.1084,800.05,537.1462,804.1061,538.5972,811.1698,544.5594,807.1136,543.1084,800.05" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="537.8396,904.122,539.4242,894.7444,533.6095,895.604,537.8396,904.122" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="546.1084" y="904.4951">can have</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="522.8123" y="1012.194">0..2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="499.8123" y="1028.5456">-constraints</text><!--MD5=[45f76f80a2983bb8d1a4910fe58afe1e]
link Game to Wallet--><path codeLine="297" d="M508.7764,782.9863 C508.7764,782.9863 495.8984,794.79 490.1084,800 C482.3684,806.97 474.2384,814.09 466.0184,821.16 " fill="none" id="Game-Wallet" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="455.9784,829.75,465.4199,826.9468,459.7805,826.5028,460.2244,820.8634,455.9784,829.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="459.7805" x2="465.8534" y1="826.5028" y2="821.3"/><polygon fill="#A80036" points="517.5784,774.83,510.4586,775.9742,508.7764,782.9863,515.8962,781.8421,517.5784,774.83" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="445.0886,797.4557,453.7932,793.6241,449.8786,789.2395,445.0886,797.4557" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="457.8184" y="799.4451">uses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="440.4132" y="802.8906">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="425.4132" y="819.2422">-wallet</text><!--MD5=[d72a19cddb1f2f40aba1a2635c7dbc76]
link Game to CSVReader--><path codeLine="298" d="M517.3884,645.49 C390.6984,667.47 211.9084,717.4 100.1084,830 C17.2184,913.48 13.1084,962.35 13.1084,1080 C13.1084,1080 13.1084,1080 13.1084,1839.5 C13.1084,1955.13 149.0784,2022.81 241.7884,2055.52 " fill="none" id="Game-to-CSVReader" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="246.7184,2057.24,239.5478,2050.4885,241.9998,2055.5863,236.9019,2058.0383,246.7184,2057.24" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="17.1493,1504.5829,21.7687,1496.2696,16,1495.1421,17.1493,1504.5829" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="27.1084" y="1504.9951">«use»</text><!--MD5=[2549229c814d16e95a410630ddbc9cd2]
link Domino to Tile--><path codeLine="302" d="M285.3489,1447.1533 C285.3489,1447.1533 284.7284,1509.37 302.1084,1534 C336.4184,1582.61 399.0684,1605.41 453.7984,1616.03 " fill="none" id="Domino-Tile" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="466.7984,1618.36,458.6417,1612.8402,461.8763,1617.481,457.2354,1620.7156,466.7984,1618.36" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="461.8763" x2="453.9984" y1="1617.481" y2="1616.07"/><polygon fill="#A80036" points="287.0884,1435.28,282.2609,1440.6368,285.3489,1447.1533,290.1764,1441.7965,287.0884,1435.28" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="310.6394,1503.2158,306.3325,1494.7364,302.1709,1498.8874,310.6394,1503.2158" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="316.1084" y="1504.9951">is made of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="441.5647" y="1598.1409">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="431.0647" y="1614.4924">-tiles</text><!--MD5=[3fe6c0284850fd1f5bfa0c1a2a75a4a2]
link Castle to Biome--><path codeLine="306" d="M365.2384,1838.5 C388.2484,1838.5 420.7684,1838.5 444.6384,1838.5 " fill="none" id="Castle-to-Biome" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="449.8984,1838.5,440.8984,1834.5,444.8984,1838.5,440.8984,1842.5,449.8984,1838.5" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="392.6084,1826.6758,383.5633,1823.7369,383.5633,1829.6147,392.6084,1826.6758" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="396.6084" y="1831.9951">«use»</text><!--MD5=[74f256bc4416ea9889fb75341be1abf4]
link ParametersController to Game--><path codeLine="310" d="M1113.0494,340.2693 C1113.0494,340.2693 1036.1684,386 995.1084,399 C949.6484,413.39 931.5084,387.24 888.1084,407 C865.3184,417.37 843.5284,431.15 823.1184,446.77 " fill="none" id="ParametersController-Game" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="812.8884,454.83,822.4324,452.3984,816.8146,451.7341,817.4789,446.1164,812.8884,454.83" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="816.8146" x2="823.0934" y1="451.7341" y2="446.78"/><polygon fill="#A80036" points="1123.0784,333.68,1115.8674,333.6317,1113.0494,340.2693,1120.2603,340.3177,1123.0784,333.68" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="888.415,417.8998,897.9188,417.5397,895.8921,412.0223,888.415,417.8998" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="902.1084" y="421.4951">modifies parameters of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="797.2237" y="427.781">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="782.7237" y="444.1325">-game</text><!--MD5=[b7a6851f002ab460c48a2013e5ea5c50]
link ParametersController to GameView--><path codeLine="311" d="M1219.8284,333.54 C1228.7384,355.8 1237.6784,382.15 1242.1084,407 C1247.8884,439.41 1242.4084,473.54 1232.2684,504.98 " fill="none" id="ParametersController-to-GameView" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="1230.6084,510,1237.236,502.7148,1232.1809,505.2537,1229.642,500.1987,1230.6084,510" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1248.4702,421.1627,1250.7469,411.9286,1244.8844,412.354,1248.4702,421.1627" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1257.1084" y="421.4951">«creates»</text><!--MD5=[75a3713b03f00079dc01e09775ea4a63]
link GameController to Game--><path codeLine="315" d="M1413.2217,380.9954 C1413.2217,380.9954 1385.7384,394.45 1372.1084,399 C1317.9084,417.08 1171.0084,395.17 1115.1084,407 C1013.5584,428.48 908.8784,477.82 826.1584,524.28 " fill="none" id="GameController-Game" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="814.6384,530.82,824.4399,529.8558,818.9867,528.3517,820.4907,522.8985,814.6384,530.82" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="818.9867" x2="825.9434" y1="528.3517" y2="524.405"/><polygon fill="#A80036" points="1423.7184,375.18,1416.5316,374.5888,1413.2217,380.9954,1420.4085,381.5866,1423.7184,375.18" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1115.251,417.3613,1124.735,418.0718,1123.3413,412.3615,1115.251,417.3613" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1129.1084" y="421.4951">manages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="837.2047" y="506.8625">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="822.7047" y="523.214">-game</text><!--MD5=[80a5dabe6f4f19ad30e71af5cc954aae]
link GameController to Kingdom--><path codeLine="316" d="M1626.1484,375.16 C1640.9284,397.07 1654.1184,421.25 1662.1084,446 C1710.4384,595.73 1734.5784,660.35 1662.1084,800 C1497.1084,1117.96 1302.3084,1069.95 988.1084,1242 C986.4584,1242.9 984.7984,1243.82 983.1384,1244.74 " fill="none" id="GameController-to-Kingdom" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="978.7184,1247.19,988.5284,1246.3158,983.0892,1244.7618,984.6432,1239.3226,978.7184,1247.19" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1644.1356,903.196,1651.8765,897.6707,1647.1504,894.176,1644.1356,903.196" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1656.1084" y="904.4951">«use»</text><!--MD5=[b072ac9f988dbdc481b667e7539f33bf]
link GameController to Observable--><path codeLine="317" d="M1456.9384,181.87 C1432.0184,159.97 1403.0684,139.74 1372.1084,128 C1261.1484,85.94 949.7084,87.66 838.1084,128 C780.8184,148.71 728.8784,196.33 695.4784,232.5 " fill="none" id="GameController-to-Observable" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="691.8984,236.41,700.9244,232.469,695.2731,232.7207,695.0215,227.0694,691.8984,236.41" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="899.1194,101.5075,908.3395,103.8399,907.9496,97.975,899.1194,101.5075" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="913.1084" y="106.4951">«use»</text><!--MD5=[97136430a1ea5b7115fb10f08fc6b609]
link GameController to IObserver--><path codeLine="318" d="M1456.9384,181.87 C1432.0184,159.97 1403.0684,139.74 1372.1084,128 C1298.7584,100.2 1088.4084,91.25 1019.1084,128 C975.4784,151.14 947.0784,202.22 931.5884,238.44 " fill="none" id="GameController-to-IObserver" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="929.5784,243.22,936.7574,236.4775,931.5187,238.6118,929.3844,233.3731,929.5784,243.22" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="1042.1371,101.7111,1051.4449,103.6647,1050.8156,97.8207,1042.1371,101.7111" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35" x="1056.1084" y="106.4951">«use»</text><!--MD5=[7ab68388a00694a26053f1e98d830b18]
@startuml

skinparam style strictuml
skinparam classAttributeIconSize 0
skinparam classFontStyle Bold
hide enum methods

package model
{

    enum Biome <<enum>>
    {
        CASTLE
        WHEAT
        FOREST
        WATER
        GRASS
        SWAMP
        MINE
        +parse(s:String):Biome
    }

    class Castle extends Tile
    {
        +Castle()
    }

    class Domino
    {
        -id:Integer
        -horizontal:boolean

        +Domino(id:Integer, t1:Tile, t2:Tile)
        -switchTiles()
        +getId():Integer
        +getTiles():Tile[*]
        +toString():String
        +flipRight()
        +flip180()
        +flipLeft()
        +isHorizontal():boolean
    }

    class Game extends Observable
    {
        -gameConstraints:boolean[*]
        -clickedTileIndex:Integer
        -currentRound:Integer
        -numberOfRounds:Integer
        -playedTurnsInRound:Integer

        -nextRound()
        -calculateFinalScores()
        +start()
        +getCurrentRound():Integer
        +getNumberOfRounds():Integer
        +getCurrentPlayer():Player
        +playedTurn()
        +createPlayer(name:String)
        +clearPlayers()
        +getPlayers():Players[*]
        +getWallet():Wallet
        +setClickedTileIndex(clickedTileIndex:Integer)
        +getClickedTileIndex():Integer
        +getSelectedDomino():Domino
        +setSelectedDomino(selectedDomino:Domino)
        +setConstraints(harmony:boolean, middleKingdom:boolean)
        +getGameConstraints():GameConstraint[*]
    }

    abstract class GameConstraint
    {
        -bonus:Integer
        +setNewScore(p:Player)
        +{abstract} respects(grid:Tile[*])
    }

    class Harmony extends GameConstraint
    {
        +Harmony()
        +respects(grid:Tile[*]):boolean
    }

    interface IObserver <<interface>>
    {
        +update(o:Observable)
    }

    class Kingdom extends Observable
    {
        +Kingdom(height:Integer,width:Integer)
        -fillTerrainOfTile(terrain:Tile[*], untreated:Integer[*])
        -getFirstUntreatedTile(terrains:Tile[*]):Integer[*]
        -addNeighbor(neighbors:Integer[*], terrain:Tile[*],
        l:Integer, c:Integer, l2:Integer, c2:Integer)
        +getGrid():Tile[*]
        +tryDominoPlacement(lineIndex:Integer,columnIndex:Integer,
        domino:Domino,clickedTileIndex:Integer)
        +hasValidNeighbor(t1:Tile, l:Integer, c:Integer):boolean
        +calculateScore():Integer
        +slideGridElements(direction:Integer)
    }

    class MiddleKingdom extends GameConstraint
    {
        +MiddleKingdom()
        +respects(grid:Tile[*]):boolean
    }

    abstract class Observable <<abstract>>
    {
        +notifyObservers()
        +addObserver(observer:IObserver)
    }

    class Player
    {
        -name:String
        -score:Integer

        +Player(name:String)
        +getName():String
        +setKingdom(kingdom:Kingdom)
        +getKingdom():Kingdom
        +toString():String
        +getScore():Integer
        +setScore(score:Integer)
    }

    class Tile
    {
        -crowns:Integer

        +Tile(biome:Biome, crowns:Integer)
        +toString():String
        +getBiome():Biome
        +getCrowns():Integer
        +getCrownsAsString():String
    }

    class Wallet extends Observable
    {
        -size:Integer

        +Wallet(size:Integer)
        +getSize():Integer
        +getDominos():Domino[*]
        +declareAsUsed(domino:Domino)
        +hasBeenUsedAlready(domino:Domino):boolean
        +clearUsedDomino()
    }
}

package controller
{
    class GameController
    {
        +GameController(game:Game)
        +flipLeft()
        +flipRight()
        +flip180()
        +tryDominoPlacement(finalI:Integer, finalJ:Integer):boolean
        +makeLeaderboard()
        +slideKingdom(kingdom:Kingdom, finalI:Integer)
        +setSelectedDomino(domino:Domino)
        +setClickedTileIndex(clickedTileIndex:Integer)
        +skipTurn()
        +addObserver(observable:Observable, observer:IObserver)
    }

    class ParametersController
    {
        +ParametersController(game:Game)
        +startGame()
        +addPlayer(s:String)
        +setGameConstraint(harmony:boolean, middleKingdom:boolean)
        +clearPlayers()
    }
}

package view
{
    class GameView implements IObserver
    {
        -started:boolean

        +GameView(game:Game, controller:GameController)
        -disableButtonsFor(kingdom:Kingdom)
        -enableButtonsFor(kingdom:Kingdom)
        -playedTurn()
        -writeInstructionTitle()
        -getColorOfTile(tile:Tile):Color
        -paintSelectedDomino()
        -end()
        -update(kingdom:Kingdom)
        -update(wallet:Wallet)
        -update()
        +update(o:Observable)
        +setUp()
    }

    class ParametersGUI
    {
        -smallResolution:boolean
        -nbPlayers:Integer

        +ParametersGUI(game:Game, controller:ParametersController)
        -changeFont()
    }
}

package utilities
{
    class CSVReader
    {
        -{static}INSTANCE:CSVReader
        -CSVReader()
        +{static}getInstance():CSVReader
        +generateDominos():Domino[*]
    }
}

class App
{
    +{static}main(args:String[*])
}

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
App .> Game : > <<creates>>
App ..> ParametersController : > <<creates>>
App .> ParametersGUI : > <<creates>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ParametersGUI .> Game : > <<use>>
ParametersGUI .up.> GameController : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

GameView .> Game : > <<use>>
GameView .up.> GameController : > <<use>>
GameView .> Wallet : > <<use>>
GameView .> Kingdom : > <<use>>
GameView .> Observable : > <<use>>
GameView .> Tile : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

CSVReader .up.> Domino : > <<creates>>
CSVReader .up.> Biome : > <<use>>
CSVReader .up.> Tile : > <<use>>
CSVReader .> CSVReader : > <<creates>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Wallet *-left-> "3..4 \n-dominos[*]" Domino : > contains
Wallet *-> "3..4\n-used[*]" Domino : > contains

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Tile *-> "-biome" Biome  : > represents

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Player o-down-> "1\nkingdom" Kingdom : > has

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Observable o-> "-observers[*]" IObserver : > can notify

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

MiddleKingdom .right.> Tile : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Kingdom *-down-> "25\n-grid[*]" Tile : > is made of
Kingdom .> Domino : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Harmony .right.> Tile : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

GameConstraint .> Player : > <<use>>
GameConstraint .> Tile : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Game *-> "deck" Domino : > uses
Game *- -> "2..4\n-players" Player : > makes play
Game o-> "0..2\n-constraints" GameConstraint : > can have
Game *- -> "3..4\n-oldOrder" Player : > uses
Game *- -> "3..4\n-newOrder" Player : > uses
Game *-left-> "0..1\n-selectedDomino" Domino : > uses
Game *- -> "0..1\n-currentPlayer" Player : > uses
Game *-> "1\n-wallet" Wallet : > uses
Game .down.> CSVReader : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Domino *-right-> "2\n-tiles" Tile : > is made of

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Castle .> Biome : > <<use>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

ParametersController *-> "1\n-game" Game : > modifies parameters of
ParametersController .> GameView : > <<creates>>

'- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

GameController *-> "1\n-game" Game : > manages
GameController .> Kingdom : > <<use>>
GameController .> Observable : > <<use>>
GameController .> IObserver : > <<use>>

@enduml

@startuml

skinparam style strictuml
skinparam classAttributeIconSize 0
skinparam classFontStyle Bold
hide enum methods

package model
{

    enum Biome <<enum>>
    {
        CASTLE
        WHEAT
        FOREST
        WATER
        GRASS
        SWAMP
        MINE
        +parse(s:String):Biome
    }

    class Castle extends Tile
    {
        +Castle()
    }

    class Domino
    {
        -id:Integer
        -horizontal:boolean

        +Domino(id:Integer, t1:Tile, t2:Tile)
        -switchTiles()
        +getId():Integer
        +getTiles():Tile[*]
        +toString():String
        +flipRight()
        +flip180()
        +flipLeft()
        +isHorizontal():boolean
    }

    class Game extends Observable
    {
        -gameConstraints:boolean[*]
        -clickedTileIndex:Integer
        -currentRound:Integer
        -numberOfRounds:Integer
        -playedTurnsInRound:Integer

        -nextRound()
        -calculateFinalScores()
        +start()
        +getCurrentRound():Integer
        +getNumberOfRounds():Integer
        +getCurrentPlayer():Player
        +playedTurn()
        +createPlayer(name:String)
        +clearPlayers()
        +getPlayers():Players[*]
        +getWallet():Wallet
        +setClickedTileIndex(clickedTileIndex:Integer)
        +getClickedTileIndex():Integer
        +getSelectedDomino():Domino
        +setSelectedDomino(selectedDomino:Domino)
        +setConstraints(harmony:boolean, middleKingdom:boolean)
        +getGameConstraints():GameConstraint[*]
    }

    abstract class GameConstraint
    {
        -bonus:Integer
        +setNewScore(p:Player)
        +{abstract} respects(grid:Tile[*])
    }

    class Harmony extends GameConstraint
    {
        +Harmony()
        +respects(grid:Tile[*]):boolean
    }

    interface IObserver <<interface>>
    {
        +update(o:Observable)
    }

    class Kingdom extends Observable
    {
        +Kingdom(height:Integer,width:Integer)
        -fillTerrainOfTile(terrain:Tile[*], untreated:Integer[*])
        -getFirstUntreatedTile(terrains:Tile[*]):Integer[*]
        -addNeighbor(neighbors:Integer[*], terrain:Tile[*],
        l:Integer, c:Integer, l2:Integer, c2:Integer)
        +getGrid():Tile[*]
        +tryDominoPlacement(lineIndex:Integer,columnIndex:Integer,
        domino:Domino,clickedTileIndex:Integer)
        +hasValidNeighbor(t1:Tile, l:Integer, c:Integer):boolean
        +calculateScore():Integer
        +slideGridElements(direction:Integer)
    }

    class MiddleKingdom extends GameConstraint
    {
        +MiddleKingdom()
        +respects(grid:Tile[*]):boolean
    }

    abstract class Observable <<abstract>>
    {
        +notifyObservers()
        +addObserver(observer:IObserver)
    }

    class Player
    {
        -name:String
        -score:Integer

        +Player(name:String)
        +getName():String
        +setKingdom(kingdom:Kingdom)
        +getKingdom():Kingdom
        +toString():String
        +getScore():Integer
        +setScore(score:Integer)
    }

    class Tile
    {
        -crowns:Integer

        +Tile(biome:Biome, crowns:Integer)
        +toString():String
        +getBiome():Biome
        +getCrowns():Integer
        +getCrownsAsString():String
    }

    class Wallet extends Observable
    {
        -size:Integer

        +Wallet(size:Integer)
        +getSize():Integer
        +getDominos():Domino[*]
        +declareAsUsed(domino:Domino)
        +hasBeenUsedAlready(domino:Domino):boolean
        +clearUsedDomino()
    }
}

package controller
{
    class GameController
    {
        +GameController(game:Game)
        +flipLeft()
        +flipRight()
        +flip180()
        +tryDominoPlacement(finalI:Integer, finalJ:Integer):boolean
        +makeLeaderboard()
        +slideKingdom(kingdom:Kingdom, finalI:Integer)
        +setSelectedDomino(domino:Domino)
        +setClickedTileIndex(clickedTileIndex:Integer)
        +skipTurn()
        +addObserver(observable:Observable, observer:IObserver)
    }

    class ParametersController
    {
        +ParametersController(game:Game)
        +startGame()
        +addPlayer(s:String)
        +setGameConstraint(harmony:boolean, middleKingdom:boolean)
        +clearPlayers()
    }
}

package view
{
    class GameView implements IObserver
    {
        -started:boolean

        +GameView(game:Game, controller:GameController)
        -disableButtonsFor(kingdom:Kingdom)
        -enableButtonsFor(kingdom:Kingdom)
        -playedTurn()
        -writeInstructionTitle()
        -getColorOfTile(tile:Tile):Color
        -paintSelectedDomino()
        -end()
        -update(kingdom:Kingdom)
        -update(wallet:Wallet)
        -update()
        +update(o:Observable)
        +setUp()
    }

    class ParametersGUI
    {
        -smallResolution:boolean
        -nbPlayers:Integer

        +ParametersGUI(game:Game, controller:ParametersController)
        -changeFont()
    }
}

package utilities
{
    class CSVReader
    {
        -{static}INSTANCE:CSVReader
        -CSVReader()
        +{static}getInstance():CSVReader
        +generateDominos():Domino[*]
    }
}

class App
{
    +{static}main(args:String[*])
}

App .> Game : > <<creates>>
App ..> ParametersController : > <<creates>>
App .> ParametersGUI : > <<creates>>


ParametersGUI .> Game : > <<use>>
ParametersGUI .up.> GameController : > <<use>>


GameView .> Game : > <<use>>
GameView .up.> GameController : > <<use>>
GameView .> Wallet : > <<use>>
GameView .> Kingdom : > <<use>>
GameView .> Observable : > <<use>>
GameView .> Tile : > <<use>>


CSVReader .up.> Domino : > <<creates>>
CSVReader .up.> Biome : > <<use>>
CSVReader .up.> Tile : > <<use>>
CSVReader .> CSVReader : > <<creates>>


Wallet *-left-> "3..4 \n-dominos[*]" Domino : > contains
Wallet *-> "3..4\n-used[*]" Domino : > contains


Tile *-> "-biome" Biome  : > represents


Player o-down-> "1\nkingdom" Kingdom : > has


Observable o-> "-observers[*]" IObserver : > can notify


MiddleKingdom .right.> Tile : > <<use>>


Kingdom *-down-> "25\n-grid[*]" Tile : > is made of
Kingdom .> Domino : > <<use>>


Harmony .right.> Tile : > <<use>>


GameConstraint .> Player : > <<use>>
GameConstraint .> Tile : > <<use>>


Game *-> "deck" Domino : > uses
Game *- -> "2..4\n-players" Player : > makes play
Game o-> "0..2\n-constraints" GameConstraint : > can have
Game *- -> "3..4\n-oldOrder" Player : > uses
Game *- -> "3..4\n-newOrder" Player : > uses
Game *-left-> "0..1\n-selectedDomino" Domino : > uses
Game *- -> "0..1\n-currentPlayer" Player : > uses
Game *-> "1\n-wallet" Wallet : > uses
Game .down.> CSVReader : > <<use>>


Domino *-right-> "2\n-tiles" Tile : > is made of


Castle .> Biome : > <<use>>


ParametersController *-> "1\n-game" Game : > modifies parameters of
ParametersController .> GameView : > <<creates>>


GameController *-> "1\n-game" Game : > manages
GameController .> Kingdom : > <<use>>
GameController .> Observable : > <<use>>
GameController .> IObserver : > <<use>>

@enduml

PlantUML version 1.2021.16(Wed Dec 08 18:25:22 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>